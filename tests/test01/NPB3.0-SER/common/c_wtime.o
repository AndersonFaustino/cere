; ModuleID = '../common/wtime.c'
target datalayout = "e-p:64:64:64-S128-i1:8:8-i8:8:8-i16:16:16-i32:32:32-i64:64:64-f16:16:16-f32:32:32-f64:64:64-f128:128:128-v64:64:64-v128:128:128-a0:0:64-s0:64:64-f80:128:128-n8:16:32:64"
target triple = "x86_64--linux-gnu"

module asm "\09.ident\09\22GCC: (Debian 4.7.3-4) 4.7.3 LLVM: 3.3\22"

%struct.timeval = type { i64, i64 }
%struct.timezone = type { i32, i32 }

@sec.1828 = internal unnamed_addr global i32 -1

; Function Attrs: nounwind uwtable
define void @wtime_(double* nocapture %t) unnamed_addr #0 {
entry:
  %tv = alloca %struct.timeval, align 16
  %0 = call i32 @gettimeofday(%struct.timeval* noalias %tv, %struct.timezone* noalias null) #1
  %1 = load i32* @sec.1828, align 4, !tbaa !0
  %2 = icmp slt i32 %1, 0
  %3 = getelementptr inbounds %struct.timeval* %tv, i64 0, i32 0
  %4 = load i64* %3, align 16, !tbaa !2
  br i1 %2, label %"3", label %"4"

"3":                                              ; preds = %entry
  %5 = trunc i64 %4 to i32
  store i32 %5, i32* @sec.1828, align 4, !tbaa !0
  br label %"4"

"4":                                              ; preds = %entry, %"3"
  %6 = phi i32 [ %5, %"3" ], [ %1, %entry ]
  %7 = sext i32 %6 to i64
  %8 = sub nsw i64 %4, %7
  %9 = sitofp i64 %8 to double
  %10 = getelementptr inbounds %struct.timeval* %tv, i64 0, i32 1
  %11 = load i64* %10, align 8, !tbaa !2
  %12 = sitofp i64 %11 to double
  %13 = fmul double %12, 1.000000e-06
  %14 = fadd double %9, %13
  store double %14, double* %t, align 8, !tbaa !3
  %15 = bitcast %struct.timeval* %tv to i8*
  call void @llvm.lifetime.end(i64 16, i8* %15)
  ret void
}

; Function Attrs: nounwind
declare i32 @gettimeofday(%struct.timeval* noalias, %struct.timezone* noalias) #1

; Function Attrs: nounwind
declare void @llvm.lifetime.end(i64, i8* nocapture) #1

attributes #0 = { nounwind uwtable }
attributes #1 = { nounwind }

!0 = metadata !{metadata !"alias set 3: int", metadata !1}
!1 = metadata !{metadata !1}
!2 = metadata !{metadata !"alias set 4: long int", metadata !1}
!3 = metadata !{metadata !"alias set 8: double", metadata !1}
